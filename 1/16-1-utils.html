<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>IFE ECMAScript</title>
</head>
<!-- CSS三道杠 -->
<style>
    /* .icon {
        display: inline-block;
        width: 140px;
         height: 10px;
        padding: 35px 0;
        border-top: 10px solid;
        border-bottom: 10px solid;
        background-color: currentColor;
        background-clip: content-box;
    } */
    /* CSS三道杠2  */
    /* .icon {
        display: inline-block;
        width: 120px;
        height: 20px;
        border-top: 60px double;
        border-bottom: 20px solid;
    } */
    /* <!-- CSS圆点 --> */
    .icon {
        display: inline-block;
        width: 10px;
        height: 10px;
        padding: 2px;
        border: 2px solid green;
        border-radius: 50%;
        background-color: red;
        background-clip: content-box;
    }

    .box {
        width: 256px;
        height: 256px;
        text-align: justify;
    }

    .box:before {
        content: "";
        display: inline-block;
        height: 100%;
    }

    .box:after {
        content: "";
        display: inline-block;
        width: 100%;
    }

    .bar {
        display: inline-block;
        width: 20px;
        height: 20px;
        background: red;
        /* height自定 */
    }

    h1 {
        content: url("./Hero.png");
    }

    #ids {
        width: 20px;
        height: 20px;
        border-radius: 50%;
        content: url("./Hero.png");
    }

    .ao {
        display: inline-block;
        width: 0;
    }

    .ao::before {
        content: "love 你 love";
        outline: 2px solid #000;
        color: #fff;
    }

    .box1 {
        text-align: center;
    }

    .content {
        display: inline-block;
        text-align: left;
    }

    /* .right{
        width: 100px;
        margin-left: auto;
    } */
    .right {
        width: 0;
        border-width: 15px 15px;
        border-style: solid;
        /* border-color: #f30 transparent transparent; */
        border-color: #f30 #f30 transparent transparent;
    }

    p {
        font-size: 14px;
    }

    p>img {
        width: 16px;
        height: 16px;
        /* 中间对齐 */
        vertical-align: .6ex;
        /* //底部对齐 */
        vertical-align: 1ex;
        position: relative;
        top: 8px;
    }

    .box2 {
        height: 10em;
        border: 1px solid #ddd;
        overflow: hidden;
    }

    .list {
        height: 100%;
        background: #ddd;
        position: relative;
    }

    .list>input {
        position: absolute;
        top: 0;
        height: 100%;
        width: 0;
        border: 0;
        padding: 0;
        margin: 0;
    }


    .father {
        position: relative;
        width: 20px;
        height: 20px;
    }

    .son {
        position: absolute;
        /* 解决方案 */
        white-space: nowrap;

    }

    .son p {
        display: inline-block;
    }

    .crop {
        width: 200px;
        height: 200px;
        overflow: hidden;
        position: relative;
    }

    .crop>.crop-area {
        position: absolute;
        top: 0;
        height: 0;
        width: 80px;
        height: 80px;
        outline: 200px solid rgba(0, 0, 0, .5);
        cursor: move;
    }

    #heart {
        cursor: pointer;
        height: 50px;
        width: 50px;
        background-image: url('./img.png');
        background-position: left;
        background-repeat: no-repeat;
        background-size: 2900%;
    }

    .is_animating {
        animation-name: heart-burst;
        animation-duration: 800ms;
        animation-timing-function: steps(28);
        animation-iteration-count: 1;
    }

    @keyframes heart-burst {
        from {
            background-position: left;
        }

        to {
            background-position: right;
        }
    }


    /* .header{
    height: 100px;
  width :100%;
  background-color: #f9f1db; 
  display: flex;
  align-items: center;
}
 
.header > *{
    margin: 0 10px
}
.header__avatar{
    background-color: #FFAC40
}
.header__more{
    margin-left: auto;
    background-color: #A65E00;
}
.header__title{
    color: #FF9000;
}  
.header__more,.header__avatar{
    flex :0 0 80px;
    height: 80px;
    border-radius :50%;
} */

    .header {
        width: 100%;
        height: 100px;
        display: flex;
        align-items: center;
    }

    .header__avatar {
        background-color: #FF9000;
    }

    .header__more {
        background-color: #A65E00;
        margin-left: auto;
    }

    .header__title {
        color: #f30;
    }

    .header__avatar,
    .header__more {
        flex: 0 0 80px;
        height: 80px;
        border-radius: 50%;
    }

    .flexBox {
        width: 100px;
        display: flex;
        flex-direction: row;
        margin: 20px;
        justify-content: space-between;
        flex-wrap: wrap;
    }

    /* .flexBox:after{
    content: '';
    width: 30px
} */
    .flexBox .item {
        height: 10px;
        background: #A65E00;
        /* margin-bottom: 5px; */
        width: 33.33%;

    }

    /* .flexBox :nth-child(2){
    margin-right: auto;
} */
</style>

<body>
    <!-- <h1>Demo</h1> -->
    <h1>Weismann's blog</h1>
    <p id="content-wrapper">你是谁？</p>
    <input id="name-input" type="text" placeholder="输入你的名字">
    <button id="send-btn">发送</button>
    <div id="ids"></div>

    <!-- html -->
    <i class="icon"></i>
    <div class="box"><i class="bar"></i>
        <i class="bar"></i>
        <i class="bar"></i>
        <i class="bar"></i>
    </div>

    <div class="box1">
        <p class="content">12345671111</p>
        <p class="content">12345671111</p>
    </div>
    <div class="right"> </div>
    <p>文字 <img src="./Hero.png"></p>

    <div class="box2">
        <div class="list"><input id="one">1</div>
        <div class="list"><input id="two">2</div>
        <div class="list"><input id="three">3</div>
        <div class="list"><input id="four">4</div>
    </div>
    <div class="link">
        <label for="one">1</label>
        <label for="two">2</label>
        <label for="three">3</label>
        <label for="four">4</label>
    </div>

    <div class="flexBox">
        <div class="item"></div>
        <div class="item"></div>
        <div class="item"></div>
        <div class="item"></div>
        <div class="item"></div>
    </div>
    <div class="dateNav" style="background:red;width:60px;height:20px">
        navtext
    </div>
    <div class="date" style="background:rgb(207, 204, 24);width:200px;height:200px;display: none;">
        33333333333333333333
    </div>


    <div class="crop">
        <div id="cropArea" class="crop-area"></div>
        <img src="./Hero.png">
    </div>


    <div id="heart"></div>

    <header class="header">
        <div class="header__avatar"></div>
        <div class="header__title">Title</div>
        <div class="header__more"></div>
    </header>



    <script src='./../moment/moment.js'></script>
    <script src="./../jq/jq.js"></script>
    <script>
        window.onload = function () {
            console.log("moment" + moment())
        }
        document.getElementById("heart").onclick = function () {
            console.log("00")
            document.getElementById("heart").classList.add("is_animating")

        }
        // email
        // url
        // number
        // range
        // Date pickers (date, month, week, time, datetime, datetime-local)
        // search
        // color
        // document.getElementById("send-btn").onclick = function () {
        //     let res = document.getElementById("name-input").value
        //     document.getElementById("content-wrapper").innerHTML = document.getElementById("name-input").value;
        //     if (parseInt(res) > 0 && Math.floor(parseInt(res)) === parseInt(res)) {
        //         alert("00")

        //     }
        // }

        //从1到100，以此在console输出各数字，但是，当数字为3的倍数或者含有3的时候，输出“PA”
        //得到每一位数字来判断是否能被3整除
        for (let i = 1; i < 100; i++) {
            console.log(52 % 10)
            if (i % 3 === 0 || parseInt((i % 100) / 10) === 3 || i % 10 === 3) {
                document.write("PA" + "&nbsp");
            } else {
                document.write(i + "&nbsp")
            }
            document.write("<br>")
        }
        // 小练习，练习使用循环实现一个九九乘法表
        //         第一步，最低要求：在Console中按行输出 n * m = t
        // 然后，尝试在网页中，使用table来实现一个九九乘法表
        document.write("<table>")
        for (let w = 1; w <= 9; w++) {
            let flag = false;
            document.write("<tr>")
            for (let h = 1; h <= 9; h++) {
                let res = h * w;
                if (h <= w) {
                    document.write("<td>")
                    document.write(h + "*" + w + "=" + res + "&nbsp;  ")
                } else {
                    flag = true;
                    document.write("</td>")
                }
            }
            if (flag === true) {
                document.write("</tr>")
            }
        }
        document.write("</table>")
        //数组arr的用法
        let arr = [1, 2, 3, 3, 4, 5, 6];
        let s = arr.sort();
        console.log(s, "s");
        let red = s.reduce(function (prev, curent, idx, arr) {
            console.log(prev, curent)
            return prev * curent
        });

        numberFn = (idx) => {
            let res = String.fromCharCode(64 + parseInt(idx + 1));
            return res
        }
        console.log(numberFn(3))

        /**
  * 隐藏姓名 手机号 身份证 银行卡 等中间字符信息
  * @param str
  * @returns {*}
  */
        function star(value) {
            let str = value.toString();
            if (str.length > 0 && str.length < 3) {
                return '*' + str.substr(1)
            } else if (str.length > 5 && str.length < 12) {
                return str.substr(0, 3) + '****' + str.substr(-4)
            } else if (str.length > 14) {
                return str.substr(0, 4) + '***********' + str.substr(-4)
            } else {
                return str
            }
        }
        function parseTime(time, cFormat) {
            if (arguments.length === 0) {
                return null
            }
            if (time == " " && time == " " && time == null) {
                return null;
            }
            if ((time + '').length === 10) {
                time = +time * 1000
            }

            const format = cFormat || '{y}-{m}-{d} {h}:{i}:{s}'
            let date
            if (typeof time === 'object') {
                date = time
            } else {
                date = new Date(parseInt(time))
            }
            const formatObj = {
                y: date.getFullYear(),
                m: date.getMonth() + 1,
                d: date.getDate(),
                h: date.getHours(),
                i: date.getMinutes(),
                s: date.getSeconds(),
                a: date.getDay()
            }
            const time_str = format.replace(/{(y|m|d|h|i|s|a)+}/g, (result, key) => {
                let value = formatObj[key]
                if (key === 'a') return ['一', '二', '三', '四', '五', '六', '日'][value - 1]
                if (result.length > 0 && value < 10) {
                    value = '0' + value
                }
                return value || 0
            })
            return time_str
        }

        console.log(parseTime("123456"))
        search2Obj = (str) => {
            str = str || '';
            str = str.indexOf('?') > -1 ? str.slice(str.indexOf('?') + 1) : str;

            const items = str.split('&');
            const result = {};
            for (let i = 0; i < items.length; i++) {
                const arr = items[i].split('=');
                const key = arr[0];
                const value = arr[1];
                if (key) {
                    if (result[key]) {
                        if (Array.isArray(value)) {
                            result[key] = result[key].concat(value);
                        } else {
                            result[key] = [result[key]].concat(value);
                        }
                    } else {
                        result[key] = value;
                    }
                }
            }
            return result;
        }
        console.log(search2Obj("http://api.joylab.xin/agent/#/linkPage1.html?contentId=40288af76993b940016993bb05500001&memberId=2c93006a69231e13016970ea00ed02b0"))


        function isObjArr(value) {
            if (Object.prototype.toString.call(value) === "[object Array]") {
                console.log('value是数组');
            } else if (Object.prototype.toString.call(value) === '[object Object]') {
                //这个方法兼容性好一点 
                console.log('value是对象');
            } else {
                console.log('value不是数组也不是对象')
            }
        }
        if (Object.keys({}).length) {
            console.log(Object.keys({}).length)
        }

        obj2Search = (obj, needSymbol) => {
            if (Object.prototype.toString.call(obj) !== '[object Object]' || !Object.keys(obj).length) {
                return '';
            }
            let result = needSymbol ? '?' : '';
            const _arr = [];
            for (const k in obj) {
                const value = obj[k];
                if (Array.isArray(value)) {
                    // _arr.push(k + '=' + value.join(','));
                    value.forEach(item => {
                        _arr.push(k + '=' + item);
                    });
                } else {
                    _arr.push(k + '=' + value);
                }
            }

            result += _arr.join('&');
            return result;
        };
        console.log(obj2Search({ contentId: "40288af76993b940016993bb05500001", memberId: "2c93006a69231e13016970ea00ed02b0" }, false))


        let date = [
            { city: "安庆市", code: "0", procive: "安徽省" },
            { city: "南京市", code: "4", procive: "江苏省" },
            { city: "安庆市", code: "0", procive: "安徽省" },
            { city: "无锡市", code: "5", procive: "江苏省" },
            { city: "郑州市", code: "5", procive: "河南省" },
            { city: "焦作市", code: "5", procive: "河南省" },
            { city: "许昌市", code: "0", procive: "河南省" },
        ]

        function groupBy(objectArray, property) {
            return objectArray.reduce(function (acc, obj) {
                var key = obj[property];
                if (!acc[key]) {
                    acc[key] = [];
                }
                acc[key].push(obj);
                return acc;
            }, {});
        }
        let objArr = groupBy(date, "procive");
        let date2 = Object.keys(objArr).reduce((acc, cur) => {
            let obj = {};
            obj.pro = cur
            obj.citys = objArr[cur]
            acc.push(obj)
            return acc

        }, [])
        console.log(date2)

        var ua = navigator.userAgent.toLowerCase();
        console.log(ua)
        console.log(ua.match(/MicroMessenger/i))


        is_pc_mbl = () => {
            if (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)
                || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0, 4))) {
                return "Mobile"
            } else {
                return "pc"
            }
        }

        formatTime = date => {
            const year = date.getFullYear()
            const month = date.getMonth() + 1
            const day = date.getDate()
            const hour = date.getHours()
            const minute = date.getMinutes()
            const second = date.getSeconds()

            formatNumber = n => {
                n = n.toString()
                return n[1] ? n : '0' + n
            }

            return [year, month, day].map(formatNumber).join(' ') + ' ' + [hour, minute, second].map(formatNumber).join(':')
        }
        console.log(formatTime(new Date("2018 09 08 12:00")))

        /**
         * 验证身份证号码
         */
        const isIdCard = (gets) => {
            /*
              该方法由网友提供;
              对身份证进行严格验证;
            */
            var Wi = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2, 1];// 加权因子;
            var ValideCode = [1, 0, 10, 9, 8, 7, 6, 5, 4, 3, 2];// 身份证验证位值，10代表X;

            if (gets.length == 15) {
                return isValidityBrithBy15IdCard(gets);
            } else if (gets.length == 18) {
                var a_idCard = gets.split("");// 得到身份证数组   
                if (isValidityBrithBy18IdCard(gets) && isTrueValidateCodeBy18IdCard(a_idCard)) {
                    return true;
                }
                return false;
            }
            return false;

            function isTrueValidateCodeBy18IdCard(a_idCard) {
                var sum = 0; // 声明加权求和变量   
                if (a_idCard[17].toLowerCase() == 'x') {
                    a_idCard[17] = 10;// 将最后位为x的验证码替换为10方便后续操作   
                }
                for (var i = 0; i < 17; i++) {
                    sum += Wi[i] * a_idCard[i];// 加权求和   
                }
                var valCodePosition = sum % 11;// 得到验证码所位置   
                if (a_idCard[17] == ValideCode[valCodePosition]) {
                    return true;
                }
                return false;
            }

            function isValidityBrithBy18IdCard(idCard18) {
                var year = idCard18.substring(6, 10);
                var month = idCard18.substring(10, 12);
                var day = idCard18.substring(12, 14);
                var temp_date = new Date(year, parseFloat(month) - 1, parseFloat(day));
                // 这里用getFullYear()获取年份，避免千年虫问题   
                if (temp_date.getFullYear() != parseFloat(year) || temp_date.getMonth() != parseFloat(month) - 1 || temp_date.getDate() != parseFloat(day)) {
                    return false;
                }
                return true;
            }

            function isValidityBrithBy15IdCard(idCard15) {
                var year = idCard15.substring(6, 8);
                var month = idCard15.substring(8, 10);
                var day = idCard15.substring(10, 12);
                var temp_date = new Date(year, parseFloat(month) - 1, parseFloat(day));
                // 对于老身份证中的你年龄则不需考虑千年虫问题而使用getYear()方法   
                if (temp_date.getYear() != parseFloat(year) || temp_date.getMonth() != parseFloat(month) - 1 || temp_date.getDate() != parseFloat(day)) {
                    return false;
                }
                return true;
            }

        }
        console.log(isIdCard("41102319920425152X"))


        /**
         * 解析地址
         */
        const parseUrl = () => {
            console.log(window.location)
            var url = window.location.search; //获取url中"?"符后的字串
            var theRequest = new Object();
            if (url.indexOf("?") != -1) {
                var str = url.substr(1);
                var strs = str.split("&");
                for (var i = 0, len = strs.length; i < len; i++) {
                    theRequest[strs[i].split("=")[0]] = strs[i].split("=")[1];
                }
            }
            return theRequest;
        }

        console.log(parseUrl())

        const copy = (idName) => {
            var ipt = document.getElementById(`${idName}`);
            var iptVal = ipt.value;
            var valueLength = iptVal.length;
            function selectText(textbox, startIndex, stopIndex) {
                if (textbox.createTextRange) {//ie
                    var range = textbox.createTextRange();
                    range.collapse(true);
                    range.moveStart('character', startIndex);//起始光标
                    range.moveEnd('character', stopIndex - startIndex);//结束光标
                    range.select();//不兼容苹果
                } else {//firefox/chrome
                    textbox.setSelectionRange(startIndex, stopIndex);
                    textbox.focus();
                }
            }

            selectText(ipt, 0, valueLength);
            if (document.execCommand('copy', false, null)) {
                document.execCommand('copy', false, null)// 执行浏览器复制命令
                console.log("已复制");
            } else {
                console.log("浏览器不兼容");
            }
        }



        isNumber = (str) => {
            var n = Number(str);
            if (!isNaN(n)) {
                console.log(n)
                return true;
            } else {
                return false;
            }
        }


        //对象排序

        var dic = { x: 2, z: 1, y: 3 };//输出   {z:1，x:2，y:3}
        var sdic = Object.keys(dic).sort(function (a, b) { return dic[a] - dic[b] });
        for (ki in sdic) {
            console.log(sdic[ki] + ":" + dic[sdic[ki]] + ",");
        }


        const valuesofArray = arr => [...new Set(arr)];

        /*
        * 返回顶部 （平滑返回顶部）
        */
        const scrollToTop = () => {
            const c = document.documentElement.scrollTop || document.body.scrollTop;
            if (c > 0) {
                window.requestAnimationFrame(scrollToTop);
                window.scrollTo(0, c - c / 8);
            }
        };

        let str = "wweerftgyhhyy";
        str.split("").reduce((res, curr) => {
            res[curr] ? res[curr]++ : res[curr] = 1;
            return res
        }, {})


        var result = [
            {
                subject: 'math',
                score: 88
            },
            {
                subject: 'chinese',
                score: 95
            },
            {
                subject: 'english',
                score: 80
            }
        ];
        let res = result.reduce((prev, curr) => {
            return prev + curr.score
        }, 0)
        let aaa = [1, 2].reduce(function (res, cur) {
            res.push(cur + 1);
            return res;
        }, [])
        console.log(aaa)


        //在Date对象原型上定义属性
        Date.prototype.toDateYMString = function () {
            var date = new Date(this);
            var Y = date.getFullYear() + '年';
            var M = date.getMonth() + 1 + '月';

            return (Y + M);
        }

        Array.prototype.contains = function (obj) {
            var i = this.length;
            while (i--) {
                if (this[i] === obj) {
                    return true;
                }
            }
            return false;
        }

        //Date
        let format = new Date()
        console.log(format.__proto__)
        console.log(Date.prototype)
        console.log(Date.prototype.__proto__)
        console.log(Date.prototype.__proto__.__proto__)
        console.log(format.toDateYMString())

        // { toDateYMString: ƒ, constructor: ƒ, toString: ƒ, toDateString: ƒ, toTimeString: ƒ,  … }
        // { toDateYMString: ƒ, constructor: ƒ, toString: ƒ, toDateString: ƒ, toTimeString: ƒ,  … }
        // { constructor: ƒ, __defineGetter__: ƒ, __defineSetter__: ƒ, hasOwnProperty: ƒ, __lookupGetter__: ƒ,  … }
        // null
        Date.prototype.toDateTimeString = function () {
            var date = new Date(this);
            var Y = date.getFullYear() + '-';
            var M = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1) + '-';
            var D = (date.getDate() < 10 ? '0' + date.getDate() : date.getDate()) + ' ';
            var h = (date.getHours() < 10 ? '0' + date.getHours() : date.getHours()) + ':';
            var m = (date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes()) + ':';
            var s = date.getSeconds() < 10 ? '0' + date.getSeconds() : date.getSeconds();
            return (Y + M + D + h + m + s);
        }
        Date.prototype.addDays = function (days) {
            var dat = new Date(this.valueOf());
            dat.setDate(dat.getDate() + days);
            return dat;
        }

        let format2 = new Date("2018,03,04").addDays(2);
        console.log(format2)


        const displayDaysPerMonth = (year) => {

            //定义每个月的天数，如果是闰年第二月改为29天
            let daysInMonth = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]
            if ((year % 4 === 0 && year % 100 !== 0) || year % 400 === 0) {
                daysInMonth[1] = 29
            }

            //以下为了获取一年中每一个月在日历选择器上显示的数据，
            //从上个月开始，接着是当月，最后是下个月开头的几天

            //定义一个数组，保存上一个月的天数
            let daysInPreviousMonth = [].concat(daysInMonth)
            daysInPreviousMonth.unshift(daysInPreviousMonth.pop())
            //获取每一个月显示数据中需要补足上个月的天数
            let addDaysFromPreMonth = new Array(12)
                .fill(null)
                .map((item, index) => {
                    let day = new Date(year, index, 1).getDay()
                    if (day === 0) {
                        return 6
                    } else {
                        return day - 1
                    }
                })

            //已数组形式返回一年中每个月的显示数据,每个数据为5行*7天
            return new Array(12)
                .fill([])
                .map((month, monthIndex) => {
                    let addDays = addDaysFromPreMonth[monthIndex],
                        daysCount = daysInMonth[monthIndex],
                        daysCountPrevious = daysInPreviousMonth[monthIndex],
                        monthData = []
                    //补足上一个月
                    for (; addDays > 0; addDays--) {
                        monthData.unshift({ text: daysCountPrevious--, nowMonth: false, sign: false })
                    }
                    //添入当前月
                    for (let i = 0; i < daysCount;) {
                        monthData.push({ text: ++i, nowMonth: true, sign: false })
                    }
                    //补足下一个月
                    for (let i = 35 - monthData.length, j = 0; j < i;) {
                        monthData.push({ text: ++j, nowMonth: false, sign: false })
                    }
                    return monthData
                })
        }

        console.log(displayDaysPerMonth(2018))

        function dateInit(setYear, setMonth) {
            //全部时间的月份都是按0~11基准，显示月份才+1
            let that = this;
            let dateArr = []                      //需要遍历的日历数组数据
            let arrLen = 0;                         //dateArr的数组长度
            let now = setYear ? new Date(setYear, setMonth) : new Date();
            let year = setYear || now.getFullYear();
            let nextYear = 0;
            let month = setMonth || now.getMonth();  //没有+1方便后面计算当月总天数
            let nextMonth = (month + 1) > 11 ? 1 : (month + 1);
            let startWeek = new Date(year + '/' + (month + 1) + '/' + 1).getDay(); //目标月1号对应的星期
            let dayNums = new Date(year, nextMonth, 0).getDate();               //获取目标月有多少天
            let obj = {};
            let num = 0;
            if (month + 1 > 11) {
                nextYear = year + 1;
                dayNums = new Date(nextYear, nextMonth, 0).getDate();
            }
            arrLen = startWeek + dayNums;
            for (let i = 0; i < arrLen; i++) {
                if (i >= startWeek) {
                    num = i - startWeek + 1;
                    obj = {
                        isToday: '' + year + (month + 1) + num,
                        dateNum: num,
                    }
                } else {
                    obj = {};
                }
                dateArr[i] = obj;
            }
            console.log(dateArr)
            let nowDate = new Date();
            let nowYear = nowDate.getFullYear();
            let nowMonth = nowDate.getMonth() + 1;
            let nowWeek = nowDate.getDay();
            let getYear = setYear || nowYear;
            let getMonth = setMonth >= 0 ? (setMonth + 1) : nowMonth;
            if (nowYear == getYear && nowMonth == getMonth) {
                //   that.setData({
                //     isTodayWeek: true,
                //     todayIndex: nowWeek
                //   })
                // console.log(dateArr)
            } else {
                //   that.setData({
                //     isTodayWeek: false,
                //     todayIndex: -1
                //   })
            }
        }
        console.log(dateInit())

        function formatweekDate(parmeDate) {
            let arr = [{}, {}, {}, {}, {}];
            let today = moment().startOf("day").format("x");

            return arr.map((everyday, idex) => {
                let date = moment(parmeDate).startOf("day").add("day", idex)
                return everyday = {
                    date: date.format("YYYY/MM/DD"),
                    ischecked: today == date.format("x"),
                    day: date.format("MM/DD"),
                    week: formateweek(date)
                }
            })

            function formateweek(day) {
                let prex = '周', weeekarr = ["日", "一", "二", "三", "四", "五", "六",]
                return prex + weeekarr[day.days()]
            }
        }
        console.log(formatweekDate())
        console.log(moment("2018/3/23").startOf("day").add("day", 1))
        let minTime = moment('2018/3/23')
        console.log("minTime", minTime)
        console.log("hours", minTime.hours())
        console.log("minutes", minTime.minutes())
        let time = "2019-04-11T01:00:00.000Z";
        console.log(moment(time).toObject())
        console.log(moment().toISOString())

        let area = {
            "name": "root",
            "children": [
                {
                    "code": "1",
                    "name": "宝石园",
                    "children": [
                        {
                            "code": "2",
                            "name": "20号楼",
                            "children": [
                                {
                                    "code": "3",
                                    "name": "24楼",
                                    "children": []
                                }
                            ]
                        },
                        {
                            "code": "4",
                            "name": "25号楼",
                            "children": [
                                {
                                    "code": "5",
                                    "name": "1楼",
                                    "children": []
                                },
                                {
                                    "code": "6",
                                    "name": "2楼",
                                    "children": []
                                },
                                {
                                    "code": "7",
                                    "name": "3楼",
                                    "children": []
                                },
                                {
                                    "code": "8",
                                    "name": "4楼",
                                    "children": []
                                },
                                {
                                    "code": "9",
                                    "name": "5楼",
                                    "children": []
                                }
                            ]
                        }
                    ]
                }
            ]
        };
        let local = area.children;

        function get(localdate, yuanqu, dalou) {
            var yqsub = [], dalsub = [];
            function getyuan() {
                let yuan;
                if (yuanqu) {
                    yuan = yuanqu && localdate.length > 0 && localdate.filter((obj, idx) => {
                        if (obj.name == yuanqu) {
                            yqsub = obj.children
                            return obj
                        }
                    })
                } else {
                    yuan = local.reduce((prev, curr) => {
                        prev.push(curr.name)
                        return prev
                    }, [])
                }
                return yuan
            }
            function getdlsub() {
                let dl = yqsub.length > 0 && yqsub.filter((obj, idx) => {
                    if (obj.name == dalou) {
                        dalsub = obj.children
                        return obj
                    }
                })
                return dl
            }
            let getyuanDate = getyuan() || [];
            arguments[2] && getdlsub()
            return [{ "YQ": getyuanDate }, { "DL": yqsub }, { "LC": dalsub }]
        }
        console.log(get(local))
        console.log(get(local, "宝石园"))
        console.log(get(local, '宝石园', '20号楼'))

        $(document).ready(function () {
            // 日期选择hover延迟
            (function ($) {
                $.fn.hoverDelay = function (options) {
                    var defaults = {
                        hoverDuring: 200,
                        outDuring: 200,
                        hoverEvent: function () {
                            $.noop();
                        },
                        outEvent: function () {
                            $.noop();
                        }
                    };
                    var sets = $.extend(defaults, options || {});
                    var hoverTimer, outTimer;
                    return $(this).each(function () {
                        $(this).hover(function () {
                            clearTimeout(outTimer);
                            hoverTimer = setTimeout(sets.hoverEvent, sets.hoverDuring);
                        }, function () {
                            clearTimeout(hoverTimer);
                            outTimer = setTimeout(sets.outEvent, sets.outDuring);
                        });
                    });
                }
            })(jQuery);
            
            $(".dateNav").hoverDelay({
                outDuring: 200,
                hoverEvent: function () {
                    $(".date").show();
                },
                outEvent: function () {
                    $(".date").hide();
                }
            });
        })

    </script>
</body>

</html>